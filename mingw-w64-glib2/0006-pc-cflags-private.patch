diff --git a/gio/meson.build b/gio/meson.build
index 462606f3b..3b71c99e3 100644
--- a/gio/meson.build
+++ b/gio/meson.build
@@ -877,6 +877,7 @@ libgio_dep = declare_dependency(link_with : libgio,
 
 pkg.generate(libgio,
   requires : ['glib-2.0', 'gobject-2.0'],
+  extra_cflags : ['\nCflags.private:', '-DGIO_STATIC_COMPILATION'],
   variables : ['datadir=' + join_paths('${prefix}', get_option('datadir')),
                'schemasdir=' + join_paths('${datadir}', schemas_subdir),
                'bindir=' + join_paths('${prefix}', get_option('bindir')),
diff --git a/glib/meson.build b/glib/meson.build
index da76fc005..9ef0759a3 100644
--- a/glib/meson.build
+++ b/glib/meson.build
@@ -439,7 +439,7 @@ pkg.generate(libglib,
   libraries : [libintl_deps],
   libraries_private : [win32_ldflags],
   subdirs : ['glib-2.0'],
-  extra_cflags : ['-I${libdir}/glib-2.0/include'] + win32_cflags,
+  extra_cflags : ['-I${libdir}/glib-2.0/include'] + win32_cflags + ['\nCflags.private:', '-DGLIB_STATIC_COMPILATION'],
   variables : ['bindir=' + join_paths('${prefix}', get_option('bindir')),
                'glib_genmarshal=' + join_paths('${bindir}', 'glib-genmarshal'),
                'gobject_query=' + join_paths('${bindir}', 'gobject-query'),
diff --git a/gmodule/meson.build b/gmodule/meson.build
index da4d06cfb..c3df9f4c5 100644
--- a/gmodule/meson.build
+++ b/gmodule/meson.build
@@ -110,6 +110,7 @@ pkg.generate(libgmodule,
   version : glib_version,
   variables : [supported_var],
   install_dir : glib_pkgconfigreldir,
+  extra_cflags : ['\nCflags.private:', '-DGMODULE_STATIC_COMPILATION'],
   filebase : 'gmodule-no-export-2.0',
   name : 'GModule',
   description : 'Dynamic module loader for GLib',
@@ -121,6 +122,7 @@ pkg.generate(libraries : [libgmodule, export_dynamic_ldflags],
   variables : [supported_var],
   install_dir : glib_pkgconfigreldir,
   filebase : 'gmodule-export-2.0',
+  extra_cflags : ['\nCflags.private:', '-DGMODULE_STATIC_COMPILATION'],
   name : 'GModule',
   description : 'Dynamic module loader for GLib',
 )
@@ -131,6 +133,7 @@ pkg.generate(libraries : [libgmodule, export_dynamic_ldflags],
   variables : [supported_var],
   install_dir : glib_pkgconfigreldir,
   filebase : 'gmodule-2.0',
+  extra_cflags : ['\nCflags.private:', '-DGMODULE_STATIC_COMPILATION'],
   name : 'GModule',
   description : 'Dynamic module loader for GLib',
 )
diff --git a/gobject/meson.build b/gobject/meson.build
index 2129aaf8a..724fa6bec 100644
--- a/gobject/meson.build
+++ b/gobject/meson.build
@@ -158,6 +158,7 @@ pkg.generate(libgobject,
   requires : ['glib-2.0'],
   version : glib_version,
   install_dir : glib_pkgconfigreldir,
+  extra_cflags : ['\nCflags.private:', '-DGOBJECT_STATIC_COMPILATION'],
   filebase : 'gobject-2.0',
   name : 'GObject',
   description : 'GLib Type, Object, Parameter and Signal Library',
